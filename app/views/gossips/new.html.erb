<h1 class ="text-center m-5 custom-title">Crée un nouveau potin</h1>

<div class = "card custom-card-bg text-white m-5 p-5">

  <%= form_tag url_for(action: 'create'), method: "post" do %>

    <%= label_tag 'gossip_title', 'Title' %>
    <%= text_field_tag 'gossip[title]', nil, class: "form-control", placeholder: "Titre du potin" %>
    <br /> <br />

    <%= label_tag 'gossip_content', 'Content' %>
    <%= text_area_tag 'gossip[content]', nil, class: "form-control", placeholder: "Contenu du potin", rows: 4 %>
    <br /> <br />

    <%= label_tag 'gossip_user_id', 'Choisir un utilisateur' %>
    <%= select_tag 'gossip[user_id]', options_from_collection_for_select(User.all, :id, :first_name), class: "form-select" %>
    <br /> <br />
    
    <%= label_tag 'tag_ids', 'Choisir un ou plusieurs tags' %>
    <%= select_tag 'tag_ids[]', options_from_collection_for_select(Tag.all, :id, :title), multiple: true, class: "form-select" %>
    <br><br>

    <%= submit_tag "Create Gossip", class: "btn btn-light" %>

  <% end %>
</div>

<% if @gossip.errors.any? %>
  <p>Nous n'avons pas réussi à créer le potin pour la (ou les) raison(s) suivante(s) :</p>
  <ul>
    <% @gossip.errors.full_messages.each do |message| %>
      <li><%= message %></li>
    <% end %>
  </ul>
<% end %>
